import { MapExploiter } from "./MapExploiter.js";
import { TileExploiter } from "./TileExploiter.js";

export class CityExploiter {
  /** @type {Number | null} */
  #city_id = null;

  /** @type {Number} */
  #populations = 0;
  /** @type {Number} */
  #stars_production = 0;

  /** @type {TileExploiter[]} */
  tiles;

  /**
   * @param {TileExploiter} tile
   */
  constructor(tile) {
    this.tiles = [tile];
  }

  /**
   * @param {TileExploiter} tile
   * @param {Number | undefined} id
   */
  addTile(tile, id = undefined) {
    this.tiles.push(tile);
    if (!this.#city_id) this.#city_id = id ?? tile.city_id;
    if (!this.#stars_production) {
      if (this.#city_id === 1) this.#stars_production = MapExploiter.stars_production_capital;
      else this.#stars_production = MapExploiter.stars_production_village;
    }
  }

  get populations() {
    return this.#populations;
  }
  get stars_production() {
    return this.#stars_production;
  }
}
